#!/bin/sh

if [ $# -eq 2 ]
then
    FILE1=$(echo $1 | sed 's/"/\\"/g')
    FILE2=$(echo $2 | sed 's/"/\\"/g')
    emacs -nw --eval "(ediff-files \"$FILE1\" \"$FILE2\")"
elif [ $# -eq 3 ]
then
    FILE1=$(echo $1 | sed 's/"/\\"/g')
    FILE2=$(echo $2 | sed 's/"/\\"/g')
    FILE3=$(echo $3 | sed 's/"/\\"/g')
    emacs -nw --eval "(ediff-files3 \"$FILE1\" \"$FILE2\" \"$FILE3\")"
else
    echo "Usage: ediff <file1> <file2> [file3]"
    exit 1
fi
